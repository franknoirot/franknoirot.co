{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte"
  ],
  "sourcesContent": [
    "<script context='module'>\n\tlet availablePages = ['landing-page', 'blog-template']\n\tlet currQueryParams = Array.from((new URL(document.location)).searchParams.entries())\n</script>\n\n<script>\n\timport { onMount, tick, afterUpdate } from 'svelte'\n\timport { loadIFramePromise, getIFrameCustomCSS } from './utils/iframeStyling'\n\timport StyleControl from './components/StyleControl.svelte'\n\n\tlet iFrameInitialized = currQueryParams.find(item => item[0] === 'url')\n\tlet previewFrame, previewStyles\n\tlet isFirstCall = true\n\tlet paramStyles = '', originalStyles = []\n\tlet isSidebarOpen = true\n\tlet queryString = ''\n\n\t$: queryStyles = currQueryParams.filter(param => param[0].startsWith('--'))\n\n\n\t$: if (previewFrame && previewFrame.contentDocument && previewStyles) {\n\t\tconst hasInjectedStyles = (previewFrame.contentDocument.documentElement.innerHTML).includes('style id=\"injected\"')\n\n\t\tpreviewFrame.contentDocument.documentElement.innerHTML = (hasInjectedStyles)\n\t\t\t? (previewFrame.contentDocument.documentElement.innerHTML).replace(/<style id=\"injected\">(.|\\t|\\r|\\n)*<\\/head>/, `<style id='injected'>\n\t\t\tbody { ${ previewStyles.map(style => style[0] +': '+ style[1]).join('; ') } }\n\t\t</style>\n\t\t</head>`)\n\t\t\t: (previewFrame.contentDocument.documentElement.innerHTML).replace('</head>', `<style id='injected'>\n\t\t\tbody { ${ previewStyles.map(style => style[0] +': '+ style[1]).join('; ') } }\n\t\t</style>\n\t\t</head>`)\n\n\t}\n\n\tonMount(handleMount)\n\n\tasync function handleMount() {\n\t\tif (!currQueryParams.find(item => item[0] === 'url')) return\n\n\t\tpreviewFrame.src = currQueryParams.find(item => item[0] === 'url')\n\t\t\t? `./pages/${ currQueryParams.find(item => item[0] === 'url')[1] }`\n\t\t\t: ''\n\n\t\t// WAIT FOR IFRAME TO LOAD\n\t\tconst previewFrameLoaded = await loadIFramePromise(previewFrame).catch(err => console.error(err))\n\n\t\t// EXTRACT BODY, :ROOT, AND * CSS VARIABLES\n\t\tpreviewStyles = getIFrameCustomCSS(previewFrame).map(style => {\n\t\t\tif (queryStyles.find(qStyle => qStyle[0] === style[0])) {\n\t\t\t\tstyle[1] = queryStyles.find(qStyle => qStyle[0] === style[0])[1]\n\t\t\t}\n\t\t\treturn style\n\t\t})\n\n\t\t// SET ORIGINAL STYLES TO CHECK AGAINST LATER\n\t\tif (isFirstCall) {\n\t\t\tisFirstCall = false\n\t\t\toriginalStyles = [...previewStyles.map(style => [...style])]\n\t\t}\n\n\t}\n\n\t// TODO: WRITE TO URL AS QUERY PARAMS WHEN EDITING ANY CSS VARIABLE VALUES\n\tfunction updateStyles(e, index) {\n\t\tconst newStyles = previewStyles\n\t\tpreviewStyles[index][1] = e.target.value \n\t\tpreviewStyles = newStyles\n\n\t\tbuildQueryString()\n\n\t\tif (queryString) {\n\t\t\tconst url = window.location.href.slice(0, window.location.href.indexOf('?') >= 0\n\t\t\t\t? window.location.href.indexOf('?')\n\t\t\t\t: window.location.href.length)\n\t\t\t+ queryString\n\n\t\t\twindow.history.replaceState(null, '', url)\n\t\t}\n\t}\n\n\tfunction buildQueryString() {\n\t\tif (currQueryParams && previewStyles) {\n\t\tconsole.log('originalStyles', originalStyles)\n\t\tconst filteredStyles = previewStyles.filter((style, i) => style[1] !== originalStyles[i][1])\n\n\t\tqueryString = '?'+(`${(currQueryParams.find(param => param[0] === 'url')) \n\t\t\t? 'url=' + currQueryParams.find(param => param[0] === 'url')[1] \n\t\t\t: ''}${ (filteredStyles) \n\t\t\t? ((filteredStyles.length > 1) \n\t\t\t\t? '&' + filteredStyles.map(style => (encodeURIComponent(style[0])+'='+encodeURIComponent(style[1]))).join('&')\n\t\t\t\t: '&' + encodeURIComponent(filteredStyles[0][0]) + '=' + encodeURIComponent(filteredStyles[0][1]))\n\t\t\t: '' }`)\n\t\t}\n\t}\n\n\tasync function handleURLEnter(e) {\n\t\te.preventDefault()\n\t\t\n\t\tconst input = e.target.querySelector('select')\n\t\tconst url = input.value\n\n\t\tlet localPageFound = await fetch('./pages/'+url)\n\n\t\tlocalPageFound = localPageFound.status === 404 ? false : true\n\n\t\tconsole.log('localPageFound = ', localPageFound)\n\n\t\tif (!localPageFound) {\n\t\t\tinput.value = ''\n\t\t\treturn\n\t\t}\n\n\t\tconst newQueryParams = [...currQueryParams]\n\t\tnewQueryParams.push(['url', url])\n\n\t\tcurrQueryParams = newQueryParams\n\n\t\tiFrameInitialized = true\n\t\tawait tick()\n\n\t\twindow.history.replaceState(null, '', window.location.href +'?url='+ url)\n\n\t\thandleMount()\t\t\n\t}\n</script>\n\n<main>\n\t<section class={`side-bar ${ isSidebarOpen ? 'open' : '' }`}>\n\t\t<h1>Site Theming Tool</h1>\n\t\t{#if previewStyles instanceof Array}\n\t\t<section class='control_group'>\n\t\t\t{#each previewStyles as style, j ('style-control_'+j)}\n\t\t\t<label class='control'>\n\t\t\t\t<span class='label'>{ style[0].slice(2, style[0].length).replace('-', ' ') }</span>\n\t\t\t\t<input type={\n\t\t\t\t\tstyle[0].includes('color')\n\t\t\t\t\t\t? 'color'\n\t\t\t\t\t\t: 'text'\n\t\t\t\t} value={ style[1] } \n\t\t\t\ton:input={e => updateStyles(e, j)} />\n\t\t\t\t{#if style[0].includes('color')}\n\t\t\t\t<span class='value' >{ style[1] }</span>\n\t\t\t\t{/if}\n\t\t\t</label>\n\t\t\t{/each}\n\t\t</section>\n\t\t{/if}\n\t</section>\n\t<button class={`side-bar_toggle ${ isSidebarOpen ? 'open' : '' }`}\n\t\ton:click={() => isSidebarOpen = !isSidebarOpen}>\n\t\t<svg viewBox='0 0 10 5'>\n\t\t\t<path d='M 1 2.5 l 8 0 M 7 1 l 2 1.5 l -2 1.5' />\n\t\t</svg>\n\t\t<span>{ !isSidebarOpen ? 'Open' : 'Close' } Tool Bar</span>\n\t</button>\n\n\t<!-- iFrame of other page, or selection of page to view. -->\n\t{#if iFrameInitialized}\n\t<iframe title='page-preview' bind:this={ previewFrame } width='100%' height='100%' allowfullscreen>\n\t\t<p>Sorry, your iframe isn't loading!</p>\n\t</iframe>\n\t{:else}\n\t<form class='page-picker' action='' method='post' on:submit={handleURLEnter}>\n\t\t<label>Enter a filename from within the local <code>/static/pages/</code> directory.\n\t\t\t<select name='url'>\n\t\t\t\t<option value=''>Pick a page</option>\n\t\t\t\t{#each availablePages as page, i}\n\t\t\t\t<option value={ page }>{ page }</option>\n\t\t\t\t{/each}\n\t\t\t</select>\n\t\t</label>\n\t\t<button type='submit'>Submit</button>\n\t</form>\n\t{/if}\n</main>\n\n<style>\n\t:global(body) {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\tmain {\n\t\t--h-color: #6060a3;\n\t\t--body-color: black;\n\t\t--bg: white;\n\n\t\ttext-align: center;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tbackground: var(--bg);\n\t\tcolor: var(--body-color);\n\t\theight: 100vh;\n\t\twidth: 100vw;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\th1 {\n\t\tcolor: var(--h-color);\n\t\ttext-transform: uppercase;\n\t\tfont-size: 2em;\n\t\tfont-weight: 100;\n\t\tmargin: 0 0 1em 0;\n\t}\n\n\tsection {\n\t\tmargin: 2em 0;\n\t}\n\n\t.side-bar {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tright: 100%;\n\t\tbottom: 0;\n\t\twidth: 30vw;\n\t\tmin-width: 300px;\n\t\tmax-width: 100%;\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t\tpadding: 5vh 3em;\n\t\tpadding-block-end: calc(10vh + 2em);\n\t\tmargin: 0;\n\t\tbackground: rgba(255,255,255,.9);\n\t\tdisplay: grid;\n\t\tgrid-template-rows: auto 1fr;\n\n\t\ttransition: transform .12s ease-in-out;\n\t}\n\n\t.control_group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tbox-sizing: border-box;\n\t\tpadding-block-end: 10vh;\n\t\tmargin: 0;\n\t\tjustify-self: stretch;\n\t\toverflow-y: scroll;\n\t}\n\n\n\t.side-bar.open,\n\t.side-bar:focus-within {\n\t\ttransform: translate(100%);\n\t\tbox-shadow: .2vw 0 .8vw rgba(0,0,0,0.2), 1vw 0 1.6vw rgba(0,0,0,.08);\n\t}\n\n\t.side-bar_toggle {\n\t\tposition: fixed;\n\t\tleft: 2vw;\n\t\tbottom: 3vh;\n\t\tz-index: 3;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground: none;\n\t\tborder: none;\n\t}\n\n\t.side-bar_toggle svg {\n\t\twidth: 2em;\n\t\theight: 1em;\n\t\tbackground: #f0a0f3;\n\t\tborder: none;\n\t\tborder-radius: 2em;\n\t\tpadding: 1em;\n\t\tbox-shadow: 0 .2vh .5vh rgba(0,0,0,0.2), 0 1.1vh 1.5vh rgba(0,0,0,0.08);\n\t\ttransition: all .12s ease-in-out;\n\t}\n\n\t.side-bar_toggle path {\n\t\tstroke: white;\n\t\tstroke-linecap: round;\n\t\tfill: transparent;\n\t\ttransform-origin: 50% 50%;\n\t\ttransform-style: preserve-3d;\n\t\ttransform: rotate(0deg);\n\t\ttransition: all .12s ease-in-out;\n\t}\n\n\t.side-bar_toggle span {\n\t\tdisplay: inline-block;\n\t\tmargin-inline-start: -2em;\n\t\ttransform-origin: 0 50%;\n\t\topacity: 0;\n\t\ttransform: rotate(15deg);\n\t\ttransition: opacity .12s ease-in-out, transform .12s .04s ease-in-out;\n\t\tbackground: hsla(323deg, 68%, 74%, .9);\n\t\tpadding: .8em 3em;\n\t\tborder-radius: 2em;\n\t\tposition: relative;\n\t\tz-index: -1;\n\t\tcolor: white;\n\t}\n\n\t.side-bar_toggle:hover span {\n\t\ttransform: rotate(0deg);\n\t\topacity: 1;\n\t}\n\n\t.side-bar_toggle:focus svg {\n\t\tbackground: #d080d3;\n\t}\n\n\t.side-bar_toggle.open path {\n\t\ttransform: rotateY(.5turn);\n\t}\n\n\t.control {\n\t\tmargin: 1em 0;\n\t\ttext-align: left;\n\t}\n\n\t.control:first-child {\n\t\tmargin-block-start: 0;\n\t}\n\t.control:last-child {\n\t\tmargin-block-end: 0;\n\t}\n\t\n\t.control .label {\n\t\tdisplay: block;\n\t\ttext-align: left;\n\t\ttext-transform: uppercase;\n\t\tcolor: #444;\n\t}\n\n    .control .value {\n\t\talign-self: center;\n\t\twhite-space: nowrap;\n    }\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>"
  ],
  "names": [],
  "mappings": "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"
}