{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\src\\App.svelte",
    "..\\..\\src\\Map.svelte",
    "..\\..\\src\\components\\ColorPicker.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n\timport Map from './Map.svelte'\r\n\timport ColorPicker from './components/ColorPicker.svelte'\r\n\timport { mergedGeoData, reportGeoData, fillerGeoData } from './zipToGeo.js'\r\n\t\r\n\tconst datasets = [mergedGeoData,reportGeoData,fillerGeoData]\r\n\tconst datasetLabels = ['Merged', 'Report', 'Filler']\r\n\tlet datasetIndex = 0\r\n\t$: dotPromise = datasets[datasetIndex]\r\n\tlet showDots = false\r\n\r\n\tlet animParams = {\r\n\t\t\tanimLength: 5.8,\r\n\t\t\tanimSpread: 0.18,\r\n\t\t\tdotSize: 3.2,\r\n\t\t\tmaxGrowthFactor: 2.03,\r\n\t\t\tgrowthDuration: .24,\r\n\t\t}\r\n\tconst rangeUI = [\r\n\t\t{param: 'animLength', label: 'Duration', labelSuffix: ' s', min: 1, max: 10, step: 0.1,},\r\n\t\t{param: 'animSpread', label: 'Spread', labelSuffix: '', min: 0, max: 1, step: 0.01,},\r\n\t\t{param: 'dotSize', label: 'Base Dot Size', labelSuffix: '', min: 1, max: 7, step: 0.1,},\r\n\t\t{param: 'maxGrowthFactor', label: 'Max Dot Size', labelSuffix: 'x', min: 1.1, max: 4.5, step: 0.01,},\r\n\t\t{param: 'growthDuration', label: 'Growth Duration', labelSuffix: ' s', min: .05, max: .5, step: 0.01,},\r\n\t]\r\n\r\n\tconst colors = {\r\n\t\tdotColor: {r: 252, g: 193, b: 59},\r\n\t\tbgColor: {r: 75, g:112, b:179},\r\n\t\tstateColor: {r: 2, g: 16, b: 54},\r\n\t\ttextColor: {r: 234, g: 245, b:255},\r\n\t}\r\n\tconst colorUI = [\r\n\t\t{param: 'dotColor', label: 'Dot Color'},\r\n\t\t{param: 'bgColor', label: 'Background Color'},\r\n\t\t{param: 'stateColor', label: 'State Color'},\r\n\t\t{param: 'textColor', label: 'Text Color'},\r\n\t]\r\n\r\n\t// dotPromise.then(data => console.log('data fetched! ', data)) // For debugging\r\n</script>\r\n\r\n<Map bind:showDots dotPromise={dotPromise}\r\n\t{...animParams}\t{...colors}></Map>\r\n<section>\r\n\t<button class='show-dots' on:click={() => showDots = !showDots}>{(showDots) ? 'Hide' : 'Show'} Dots</button>\r\n\t{#each rangeUI as range, i (i)}\r\n\t<label class='range-group'>{ range.label }\r\n\t\t<input type=\"range\" min={range.min} max={range.max} step={range.step} value={ animParams[range.param] }\r\n\t\ton:input={e => animParams[range.param] = e.target.value}>\r\n\t\t{animParams[range.param] + range.labelSuffix}\r\n\t</label>\r\n\t{/each}\r\n\t<label style='white-space: nowrap;'>Dataset\r\n\t\t<input type='range' min='0' max='2' step='1' value='0' on:input={e => datasetIndex = e.target.value}>\r\n\t\t{#await datasets[datasetIndex]}\r\n\t\t...loading\r\n\t\t{:then dataset}\r\n\t\t{ datasetLabels[datasetIndex] + ` (${dataset.features.length} dots)`}\r\n\t\t{/await}\r\n\t</label>\r\n</section>\r\n<section>\r\n\t{#each colorUI as picker, i (i)}\r\n\t<div>\r\n\t\t<ColorPicker bind:rgb={ colors[picker.param] }>\r\n\t\t\t<p>{ picker.label }</p>\r\n\t\t</ColorPicker>\r\n\t</div>\r\n\t{/each}\r\n</section>\r\n\r\n<style>\r\n\tsection {\r\n\t\tmargin: 2em 0;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 50% 50%;\r\n\t\tgrid-gap: 1em 1.5em;\r\n\t\twidth: 95vw;\r\n\t\tmax-width: 660px;\r\n\t}\r\n\r\n\t.show-dots {\r\n\t\tgrid-column: 1 / 3;\r\n\t}\r\n\r\n\t.range-group {\r\n\t\tdisplay: block;\r\n\t\twidth: max-content;\r\n\t\tmargin: 1em 0;\r\n\t}\r\n</style>",
    "<script>\r\n\timport * as d3 from 'd3'\r\n\timport * as topojson from 'topojson-client'\r\n\timport { labelTweaks, matchLabelToTweak } from './labelTweaks'\r\n\r\n\texport let showDots = false\r\n\texport let animLength = 6\r\n\texport let animSpread = 0.08\r\n\texport let dotSize = 3\r\n\texport let maxGrowthFactor = 1.5\r\n\texport let growthDuration = .2\r\n\texport let dotPromise = null\r\n\r\n\texport let bgColor = {r: 75, g: 112, b: 179}\r\n\texport let stateColor = {r: 2, g: 16, b: 54}\r\n\texport let textColor = {r: 234, g: 245, b:255}\r\n\texport let dotColor = {r: 252, g: 193, b: 59}\r\n\r\n\tlet statePromise = fetch('./assets/states.json').then(res => res.json())\r\n\tlet width = 1388\r\n\tlet height = 781\r\n\t$: viewBox = `0 0 ${width} ${height}`\r\n\r\n\tconst projection = d3.geoAlbersUsa()\r\n\t\t.scale(width*1.1)\r\n\t\t.translate([width / 2, height / 2]);\r\n\r\n\tconst path = d3.geoPath()\r\n\t\t.projection(projection);\r\n\r\n\tconst sortFn = (a, b) => a.geometry.coordinates[0] - b.geometry.coordinates[0]\r\n</script>\r\n\r\n<svg id=\"map\" viewBox={viewBox}\r\n\t\tclass=\"{showDots ? 'play-anim' : ''}\"\r\n\t\ton:click={() => showDots = !showDots}\r\n\t\tstyle={`--bg: rgb(${bgColor.r},${bgColor.g},${bgColor.b});\r\n\t\t\t\t\t --state: rgb(${stateColor.r},${stateColor.g},${stateColor.b});\r\n\t\t\t\t\t --text: rgb(${textColor.r},${textColor.g},${textColor.b});\r\n\t\t\t\t\t --dots: rgb(${dotColor.r},${dotColor.g},${dotColor.b});\r\n\t\t\t\t\t --max-growth-factor: ${maxGrowthFactor};\r\n\t\t\t\t\t --growth-duration: ${growthDuration}s;`}>\r\n{#await statePromise}\r\n\t<text x='50%' y='50%' style='transform: translate(-50%, -50%);'>Loading...</text>\r\n{:then states}\r\n\t<g class=\"states\">\r\n\t\t{#each topojson.feature(states, states.objects.usStates).features as state, i (`state-${i}`)}\r\n\t\t<path d={path(state)} class=\"state\" data-abbr=\"{state.properties.STATE_ABBR}\"></path>\r\n\t\t{/each}\r\n\t</g>\r\n\t{#if dotPromise}\r\n\t<g class=\"dots\">\r\n\t\t{#await dotPromise}\r\n\t\t<text></text>\r\n\t\t{:then dots}\r\n\t\t\t{#each dots.features.sort(sortFn) as dot, i (i)}\r\n\t\t<path d={path.pointRadius(dotSize)(dot)} class=\"zipcode\" id={'dot-'+i}\r\n\t\t\tstyle={`--delay:${(i+(Math.random()-.5)*dots.features.length*animSpread)/dots.features.length*animLength}s; --cx:${projection(dot.geometry.coordinates)[0]}px; --cy:${projection(dot.geometry.coordinates)[1]}px;`}></path>\r\n\t\t\t{/each}\r\n\t\t{/await}\r\n\t</g>\r\n\t{/if}\r\n\t<g class=\"state-labels\">\r\n\t\t{#each topojson.feature(states, states.objects.usStates).features as state, i (`state-label-${i}`)}\r\n\t\t<text x={path.centroid(state)[0]  + ((matchLabelToTweak(state) !== null) ? matchLabelToTweak(state)[0] : 0) }\r\n\t\t\t\t  y={path.centroid(state)[1]  + ((matchLabelToTweak(state) !== null) ? matchLabelToTweak(state)[1] : 0) }>{state.properties.STATE_ABBR}</text>\r\n\t\t{/each}\r\n\t</g>\r\n{/await}\r\n</svg>\r\n\r\n<style>\r\n\t#map {\r\n\t\t--bg: rgb(75, 112, 179);\r\n\t\t--state: rgb(2, 16, 54);\r\n\t\t--text: rgb(234, 245, 255);\r\n\t\t--dots: rgb(252, 193, 59);\r\n\t\tbackground: var(--bg);\r\n\t\twidth: 80vw;\r\n\t}\r\n\r\n\ttext {\r\n\t\tfill: var(--text);\r\n\t\tfont-size: 1em;\r\n\t\ttext-transform: uppercase;\r\n\t\ttransform: translate(-.5em, .25em);\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.states {\r\n\t\tfill: var(--state);\r\n\t\t/* transition: all .12s ease-in-out; */\r\n\t\tstroke: var(--bg);\r\n\t\tstroke-width: 0.5px;\r\n\t}\r\n\r\n\t.state {\r\n\t\tposition: relative;\r\n\t}\r\n\t.state::before {\r\n\t\tposition: absolute;\r\n\t\tcontent: var(--abbr);\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.zipcode {\r\n\t\t--delay: 0s;\r\n\t\topacity: 0;\r\n\t\tfill: var(--dots);\r\n\t\ttransform-origin: var(--cx) var(--cy);\r\n\t\ttransform: translateY(1vh);\r\n\t}\r\n\r\n\t.play-anim .zipcode {\r\n\t\t animation: appear var(--growth-duration) var(--delay) linear forwards;\r\n\t\tfilter: drop-shadow(2px 0 2px hsla(45deg, 75%, 85%, 0.15));\r\n\t}\r\n\r\n\t@keyframes appear {\r\n\t\t0% { \r\n\t\t\topacity: 0;\r\n\t\t\ttransform: translateY(1vh) scale(0);\r\n\t\t}\r\n\t\t75% {\r\n\t\t\ttransform: translateY(-.25vh) scale(var(--max-growth-factor));\r\n\t\t}\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0) scale(1);\r\n\t\t}\r\n\t}\r\n</style>",
    "<script>\r\n  import {RGBToHSL} from '../colorFns'\r\n  export let rgb = {\r\n    r: 0,\r\n    g: 0,\r\n    b: 0\r\n  }\r\n  let reveal = false\r\n  $: hsl = RGBToHSL(rgb)\r\n</script>\r\n\r\n<div on:click={() => reveal = !reveal} class={`dropdown ${(reveal) ? 'reveal' : 'hide'}`}\r\n      style={`--bg: hsl(${hsl.h}deg, ${hsl.s}%, ${hsl.l}%);\r\n              --bg-invert: hsl(${hsl.h}deg, ${100 - hsl.l}%, ${(hsl.l > 50) ? 3 : 97}%);`}>\r\n  <slot>\r\n    <p>Color Value</p>\r\n  </slot>\r\n</div>\r\n<div class={(reveal) ? 'revealed' : 'hidden'}>\r\n  <label>Red\r\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.r}>\r\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.r}>\r\n  </label>\r\n  <label>Green\r\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.g}>\r\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.g}>\r\n  </label>\r\n  <label>Blue\r\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.b}>\r\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.b}>\r\n  </label>\r\n</div>\r\n\r\n<style>\r\n  div {\r\n    max-width: 720px;\r\n    width: fit-content;\r\n  }\r\n\r\n  .dropdown {\r\n    position: relative;\r\n    background: var(--bg);\r\n    color: var(--bg-invert);\r\n    padding: 0 3em 0 2em;\r\n    user-select: none;\r\n  }\r\n  .dropdown:hover {\r\n    cursor: pointer;\r\n  }\r\n  .dropdown::after {\r\n    content: '>';\r\n    position: absolute;\r\n    display: block;\r\n    right: 1em;\r\n    top: 50%;\r\n    transform-origin: 50% 50%;\r\n    transform: translateY(-50%);\r\n    transition: all .12s ease-in-out;\r\n  }\r\n  .reveal::after {\r\n    transform: translateY(-50%) rotate(90deg);\r\n  }\r\n\r\n  .hidden {\r\n    display: none;\r\n    height: 0;\r\n    opacity: 0;\r\n    transition: all .12s ease-in-out;\r\n  }\r\n  .revealed {\r\n    display: inline-block;\r\n    height: auto;\r\n    opacity: 1;\r\n  }\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}